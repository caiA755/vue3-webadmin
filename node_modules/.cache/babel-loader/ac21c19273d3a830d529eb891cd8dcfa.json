{"ast":null,"code":"import caiform from '@/base-ui/index';\nimport mytable from '@/components/my_table/index';\nimport cRequest1 from '@/service/index';\nimport { ref } from 'vue';\nimport mainurl from '@/service/url/mainurl';\nexport default {\n  name: 'role',\n  components: {\n    caiform,\n    mytable\n  },\n\n  data() {\n    let tableData, childrenData;\n    let columns = [{\n      prop: \"objectId\",\n      name: \"objectId\"\n    }, {\n      prop: \"role_id\",\n      name: \"角色名\",\n      children: \"name\"\n    }, {\n      prop: \"menu_id\",\n      name: \"权限\",\n      children: \"name\"\n    }, {\n      prop: \"createdAt\",\n      name: \"创建时间\"\n    }, {\n      prop: \"updatedAt\",\n      name: \"更新时间\"\n    }, {\n      prop: \"objectId\",\n      name: \"操作\",\n      slotname: \"objectId\",\n      minWidth: 300\n    }];\n    let childrenColumns = [{\n      prop: \"objectId\",\n      name: \"objectId\"\n    }, {\n      prop: \"role_id\",\n      name: \"角色名\",\n      children: \"name\"\n    }, {\n      prop: \"createdAt\",\n      name: \"创建时间\"\n    }, {\n      prop: \"updatedAt\",\n      name: \"更新时间\"\n    }, {\n      prop: \"objectId\",\n      name: \"操作\",\n      minWidth: 300\n    }];\n    let pageParams = {\n      page: 1,\n      limit: 5,\n      total: 7\n    };\n    return {\n      tableData,\n      columns,\n      pageParams,\n      childrenColumns,\n      childrenData\n    };\n  },\n\n  created() {\n    let _this = this; // mainurl.rolemenuUrl+\"?include=role_id,menu_id\"\n    // cRequest1.getRequest(mainurl.roleUrl,null).then((res)=>{\n    //      _this.tableData=res.results;\n    //      console.log(res.results);\n    // });\n\n\n    cRequest1.getRequest(mainurl.rolemenuUrl + \"?include=role_id,menu_id\", null).then(res => {\n      _this.tableData = res.results;\n    });\n  },\n\n  setup() {\n    const formItems = [{\n      field: \"name\",\n      label: \"角色名\",\n      placeholder: \"角色名\",\n      type: \"input\"\n    }, {\n      field: \"date\",\n      label: \"创建时间\",\n      placeholder: \"请选择创建时间范围\",\n      type: \"datepicker\",\n      otherOptions: {\n        startPlaceholder: '开始时间',\n        endPlaceholder: '结束时间',\n        type: \"daterange\"\n      }\n    }];\n    const formData = ref({\n      date: \"\",\n      name: \"\"\n    });\n    return {\n      formItems,\n      formData\n    };\n  }\n\n};","map":null,"metadata":{},"sourceType":"module"}