{"ast":null,"code":"import 'normalize.css';\nimport './assets/css/index.css';\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue';\nimport 'element-plus/theme-chalk/index.css';\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport router from \"./router/index\"; // 导入路由对象     \n\nimport localeCache from '@/utils/cache';\nimport { toRaw } from '@vue/reactivity';\nimport mapMenusToRouter from '@/utils/map_menus.js';\nconst app = createApp(App);\n\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n  app.component(key, component);\n} //当前环境\n\n\nconsole.log(process.env.VUE_APP_BASE_URL); //解决动态路由刷新问题\n// console.log(toRaw());\n\nlet menuinfocache = localStorage.getItem(\"menuinfo\"); // console.log(menuinfocache);\n\nif (menuinfocache != \"undefined\" && menuinfocache != null) {\n  let menuinfo = toRaw(localeCache.getCache(\"menuinfo\"));\n  let menus = Array.from(toRaw(localeCache.getCache(\"menuinfo\")));\n\n  if (menus.length > 0) {\n    let routes = mapMenusToRouter(menus);\n\n    for (var i = 0; i < routes.length; i++) {\n      router.options.routes.push(routes[i]);\n      router.addRoute('main', routes[i]);\n    }\n  }\n}\n\napp.use(router);\napp.mount('#app');","map":null,"metadata":{},"sourceType":"module"}