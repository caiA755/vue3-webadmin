{"ast":null,"code":"import axios from 'axios';\nimport { Promise } from 'core-js';\nimport { ElLoading } from \"element-plus\";\nconst config = {\n  headers: {\n    'X-Bmob-Application-Id': 'e536863a0210f9b43a1e5344b785de3d',\n    'X-Bmob-REST-API-Key': '37b324a62cedd302e6a22fc84e622a5a',\n    'Content-Type': 'application/json'\n  },\n  baseURL: \"https://api2.bmob.cn\",\n  timeout: 5000\n}; //全局配置\n\naxios.defaults.baseURL = config.baseURL;\naxios.defaults.headers = config.headers; //axios实例\n// axios.get('/1/classes/_User').then((res) => {\n//     console.log(res);\n// });\n//添加拦截请求器\n\nlet loadingInstance = null;\naxios.interceptors.request.use(function (config) {\n  //在发送请求之前做些什么\n  loadingInstance = ElLoading.service({\n    fullscreen: true,\n    text: \"你好\"\n  });\n  return config;\n}, function (error) {\n  //对请求错误做些什么\n  return Promise.reject(error);\n}); // 声明响应拦截器\n\naxios.interceptors.response.use(response => {\n  // 隐藏 Loading 效果\n  loadingInstance.close();\n  return response;\n});\nexport default {\n  post(url, data) {\n    //  post\n    return axios({\n      method: 'post',\n      baseURL: process.env.BASE_URL,\n      url,\n      data: qs.stringify(data),\n      timeout: config.timeout,\n      headers: config.headers // headers: {\n      //     'X-Requested-With': 'XMLHttpRequest',\n      //     'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n      // }\n\n    }).then(response => {\n      console.log(response);\n    }).catch(res => {\n      console.log(res);\n    });\n  },\n\n  get(url, params) {\n    // get\n    return axios({\n      method: 'get',\n      baseURL: process.env.BASE_URL,\n      url,\n      params,\n      // get 请求时带的参数\n      timeout: config.timeout,\n      headers: config.headers // headers: {\n      //     'X-Requested-With': 'XMLHttpRequest'\n      // }\n\n    }).then(response => {\n      console.log(response);\n    }).catch(res => {\n      console.log(res);\n    });\n  }\n\n};","map":{"version":3,"names":["axios","Promise","ElLoading","config","headers","baseURL","timeout","defaults","loadingInstance","interceptors","request","use","service","fullscreen","text","error","reject","response","close","post","url","data","method","process","env","BASE_URL","qs","stringify","then","console","log","catch","res","get","params"],"sources":["E:/CaiCai/前端学习/Vue学习/job-web-vue3/src/service/axios_config.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Promise } from 'core-js';\r\nimport { ElLoading } from \"element-plus\";\r\n\r\nconst config = {\r\n    headers: {\r\n        'X-Bmob-Application-Id': 'e536863a0210f9b43a1e5344b785de3d',\r\n        'X-Bmob-REST-API-Key': '37b324a62cedd302e6a22fc84e622a5a',\r\n        'Content-Type': 'application/json'\r\n    },\r\n    baseURL: \"https://api2.bmob.cn\",\r\n    timeout: 5000,\r\n};\r\n//全局配置\r\naxios.defaults.baseURL = config.baseURL;\r\naxios.defaults.headers = config.headers;\r\n\r\n//axios实例\r\n// axios.get('/1/classes/_User').then((res) => {\r\n//     console.log(res);\r\n// });\r\n\r\n//添加拦截请求器\r\nlet loadingInstance = null\r\naxios.interceptors.request.use(function(config) {\r\n    //在发送请求之前做些什么\r\n    loadingInstance = ElLoading.service({ fullscreen: true, text: \"你好\" });\r\n    return config;\r\n}, function(error) {\r\n    //对请求错误做些什么\r\n    return Promise.reject(error);\r\n});\r\n// 声明响应拦截器\r\naxios.interceptors.response.use((response) => {\r\n    // 隐藏 Loading 效果\r\n    loadingInstance.close();\r\n    return response;\r\n});\r\n\r\nexport default {\r\n    post(url, data) { //  post\r\n        return axios({\r\n            method: 'post',\r\n            baseURL: process.env.BASE_URL,\r\n            url,\r\n            data: qs.stringify(data),\r\n            timeout: config.timeout,\r\n            headers: config.headers\r\n                // headers: {\r\n                //     'X-Requested-With': 'XMLHttpRequest',\r\n                //     'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n                // }\r\n        }).then((response) => {\r\n            console.log(response);\r\n        }).catch((res) => {\r\n            console.log(res);\r\n        })\r\n    },\r\n    get(url, params) { // get\r\n        return axios({\r\n            method: 'get',\r\n            baseURL: process.env.BASE_URL,\r\n            url,\r\n            params, // get 请求时带的参数\r\n            timeout: config.timeout,\r\n            headers: config.headers\r\n                // headers: {\r\n                //     'X-Requested-With': 'XMLHttpRequest'\r\n                // }\r\n        }).then((response) => {\r\n            console.log(response);\r\n        }).catch((res) => {\r\n            console.log(res);\r\n        })\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SAASC,SAAT,QAA0B,cAA1B;AAEA,MAAMC,MAAM,GAAG;EACXC,OAAO,EAAE;IACL,yBAAyB,kCADpB;IAEL,uBAAuB,kCAFlB;IAGL,gBAAgB;EAHX,CADE;EAMXC,OAAO,EAAE,sBANE;EAOXC,OAAO,EAAE;AAPE,CAAf,C,CASA;;AACAN,KAAK,CAACO,QAAN,CAAeF,OAAf,GAAyBF,MAAM,CAACE,OAAhC;AACAL,KAAK,CAACO,QAAN,CAAeH,OAAf,GAAyBD,MAAM,CAACC,OAAhC,C,CAEA;AACA;AACA;AACA;AAEA;;AACA,IAAII,eAAe,GAAG,IAAtB;AACAR,KAAK,CAACS,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAASR,MAAT,EAAiB;EAC5C;EACAK,eAAe,GAAGN,SAAS,CAACU,OAAV,CAAkB;IAAEC,UAAU,EAAE,IAAd;IAAoBC,IAAI,EAAE;EAA1B,CAAlB,CAAlB;EACA,OAAOX,MAAP;AACH,CAJD,EAIG,UAASY,KAAT,EAAgB;EACf;EACA,OAAOd,OAAO,CAACe,MAAR,CAAeD,KAAf,CAAP;AACH,CAPD,E,CAQA;;AACAf,KAAK,CAACS,YAAN,CAAmBQ,QAAnB,CAA4BN,GAA5B,CAAiCM,QAAD,IAAc;EAC1C;EACAT,eAAe,CAACU,KAAhB;EACA,OAAOD,QAAP;AACH,CAJD;AAMA,eAAe;EACXE,IAAI,CAACC,GAAD,EAAMC,IAAN,EAAY;IAAE;IACd,OAAOrB,KAAK,CAAC;MACTsB,MAAM,EAAE,MADC;MAETjB,OAAO,EAAEkB,OAAO,CAACC,GAAR,CAAYC,QAFZ;MAGTL,GAHS;MAITC,IAAI,EAAEK,EAAE,CAACC,SAAH,CAAaN,IAAb,CAJG;MAKTf,OAAO,EAAEH,MAAM,CAACG,OALP;MAMTF,OAAO,EAAED,MAAM,CAACC,OANP,CAOL;MACA;MACA;MACA;;IAVK,CAAD,CAAL,CAWJwB,IAXI,CAWEX,QAAD,IAAc;MAClBY,OAAO,CAACC,GAAR,CAAYb,QAAZ;IACH,CAbM,EAaJc,KAbI,CAaGC,GAAD,IAAS;MACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ;IACH,CAfM,CAAP;EAgBH,CAlBU;;EAmBXC,GAAG,CAACb,GAAD,EAAMc,MAAN,EAAc;IAAE;IACf,OAAOlC,KAAK,CAAC;MACTsB,MAAM,EAAE,KADC;MAETjB,OAAO,EAAEkB,OAAO,CAACC,GAAR,CAAYC,QAFZ;MAGTL,GAHS;MAITc,MAJS;MAID;MACR5B,OAAO,EAAEH,MAAM,CAACG,OALP;MAMTF,OAAO,EAAED,MAAM,CAACC,OANP,CAOL;MACA;MACA;;IATK,CAAD,CAAL,CAUJwB,IAVI,CAUEX,QAAD,IAAc;MAClBY,OAAO,CAACC,GAAR,CAAYb,QAAZ;IACH,CAZM,EAYJc,KAZI,CAYGC,GAAD,IAAS;MACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ;IACH,CAdM,CAAP;EAeH;;AAnCU,CAAf"},"metadata":{},"sourceType":"module"}