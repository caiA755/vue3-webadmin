{"ast":null,"code":"import { ref, watch } from 'vue';\nexport default {\n  name: \"myTable\",\n  props: {\n    tableData: {\n      type: Array,\n      default: () => {}\n    },\n    childrenData: {\n      type: Array,\n      default: () => {}\n    },\n    columns: {\n      type: Array,\n      default: () => {}\n    },\n    childrenColumns: {\n      type: Array,\n      default: () => {}\n    },\n    pageParams: {\n      type: Object,\n      default: function () {\n        return {\n          page: 1,\n          limit: 20,\n          total: 0\n        };\n      }\n    }\n  },\n  methods: {\n    // 条数变化\n    handleSizeChange(e) {\n      console.log(\"条数变化\", e);\n      this.$emit('handleSizeChange', e);\n    },\n\n    // 页码变化\n    handleCurrentChange(e) {\n      this.$emit('handleCurrentChange', e);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkDA,SAAQA,GAAR,EAAYC,KAAZ,QAAwB,KAAxB;AACA,eAAe;EACbC,IAAI,EAAC,SADQ;EAEbC,KAAK,EAAC;IACJC,SAAS,EAAC;MACNC,IAAI,EAACC,KADC;MAENC,OAAO,EAAC,MAAI,CACZ;IAHM,CADN;IAMJC,YAAY,EAAC;MACTH,IAAI,EAACC,KADI;MAETC,OAAO,EAAC,MAAI,CACZ;IAHS,CANT;IAWJE,OAAO,EAAC;MACJJ,IAAI,EAACC,KADD;MAEJC,OAAO,EAAC,MAAI,CACZ;IAHI,CAXJ;IAgBJG,eAAe,EAAC;MACZL,IAAI,EAACC,KADO;MAEZC,OAAO,EAAC,MAAI,CACf;IAHe,CAhBZ;IAqBJI,UAAU,EAAC;MACPN,IAAI,EAAEO,MADC;MAEPL,OAAO,EAAE,YAAY;QACnB,OAAO;UACHM,IAAI,EAAC,CADF;UAEHC,KAAK,EAAC,EAFH;UAGHC,KAAK,EAAC;QAHH,CAAP;MAKF;IARO;EArBP,CAFO;EAkCbC,OAAO,EAAC;IACL;IACFC,gBAAgB,CAACC,CAAD,EAAI;MACfC,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBF,CAAnB;MACJ,KAAKG,KAAL,CAAW,kBAAX,EAA+BH,CAA/B;IACA,CALM;;IAMP;IACAI,mBAAmB,CAACJ,CAAD,EAAI;MACtB,KAAKG,KAAL,CAAW,qBAAX,EAAkCH,CAAlC;IACD;;EATO;AAlCK,CAAf","names":["ref","watch","name","props","tableData","type","Array","default","childrenData","columns","childrenColumns","pageParams","Object","page","limit","total","methods","handleSizeChange","e","console","log","$emit","handleCurrentChange"],"sourceRoot":"","sources":["E:\\CaiCai\\前端学习\\Vue学习\\job-web-vue3\\src\\components\\my_table\\src\\table.vue"],"sourcesContent":["<template>\r\n      <el-table :data=\"tableData\"  :default-sort=\"{ prop: 'createdAt', order: 'descending' }\" :columns=\"columns\"  style=\"width: 100%\" >\r\n        <el-table-column type=\"expand\" >\r\n      <!-- <template #> -->\r\n        <div m=\"4\">\r\n          <el-table :data=\"childrenData\"  :border=\"childBorder\" :childrenColumns=\"childrenColumns\">\r\n            <el-table-column  v-for=\"item in childrenColumns\" :prop=\"item.prop\" :label=\"item.name\" :key=\"item.prop\" />\r\n             <template #default=\"scope\"> \r\n                <slot :name=\"item.slotname\">\r\n                       <template v-if=\"scope.row[item.prop][item.children]!=null\">\r\n                         {{scope.row[item.prop][item.children]}}\r\n                      </template>\r\n                      <template v-else>\r\n                         {{scope.row[item.prop]}}\r\n                      </template>\r\n                  </slot>\r\n              </template> \r\n          </el-table>\r\n        </div>\r\n      <!-- </template> -->\r\n    </el-table-column>\r\n         <el-table-column type=\"index\" width=\"50\" />\r\n           <el-table-column  v-for=\"item in columns\" sortable  :prop=\"item.prop\" :min-width=\"item.minWidth?'':50\" :label=\"item.name\" :key=\"item.prop\" >\r\n              <template #default=\"scope\" > \r\n                <slot  :name=\"item.slotname\">\r\n                     <!-- <template v-if=\"scope.row[item.prop][item.children]!=null\">\r\n                         {{scope.row[item.prop][item.children]}}\r\n                      </template>\r\n                      <template v-else> -->\r\n                         {{scope.row[item.prop]}}\r\n                      <!-- </template> -->\r\n                </slot>\r\n              </template> \r\n           </el-table-column>\r\n     </el-table>\r\n       <el-pagination \r\n            class=\"table-box-pagination\" \r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"pageCurrentChange\"\r\n            :current-change=\"pageParams.page\"\r\n            :page-sizes=\"[ 5, 30, 50, 100 ]\"\r\n            :page-size=\"pageParams.limit\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pageParams.total\"\r\n           >\r\n        </el-pagination>\r\n         <!-- :current-page=\"pageParams.page\" -->\r\n</template>\r\n\r\n<script>\r\nimport {ref,watch} from 'vue'\r\nexport default {\r\n  name:\"myTable\",\r\n  props:{\r\n    tableData:{\r\n        type:Array,\r\n        default:()=>{\r\n        }\r\n    },\r\n    childrenData:{\r\n        type:Array,\r\n        default:()=>{\r\n        }\r\n    },\r\n    columns:{\r\n        type:Array,\r\n        default:()=>{\r\n        }\r\n    },\r\n    childrenColumns:{\r\n        type:Array,\r\n        default:()=>{\r\n     }\r\n    },\r\n    pageParams:{\r\n        type: Object,\r\n        default: function () {\r\n          return {\r\n              page:1,\r\n              limit:20,\r\n              total:0\r\n          }\r\n        }\r\n      }\r\n  },\r\n  methods:{\r\n     // 条数变化\r\n\t\t\thandleSizeChange(e) {\r\n        console.log(\"条数变化\",e);\r\n\t\t\t\tthis.$emit('handleSizeChange', e);\r\n\t\t\t},\r\n\t\t\t// 页码变化\r\n\t\t\thandleCurrentChange(e) {\r\n\t\t\t\tthis.$emit('handleCurrentChange', e);\r\n\t\t\t}\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}