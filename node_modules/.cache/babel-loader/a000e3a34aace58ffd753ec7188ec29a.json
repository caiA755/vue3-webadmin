{"ast":null,"code":"import caiform from '@/base-ui/index';\nimport mytable from '@/components/my_table/index';\nimport cRequest1 from '@/service/index';\nimport { ref } from 'vue';\nimport mainurl from '@/service/url/mainurl';\nimport maincss from '@/assets/css/index.css';\nexport default {\n  name: 'user',\n\n  data() {\n    let tableData;\n    let columns = [{\n      prop: \"objectId\",\n      name: \"objectId\"\n    }, {\n      prop: \"user_id\",\n      name: \"用户名\",\n      children: \"username\"\n    }, {\n      prop: \"user_id\",\n      name: \"电话号码\",\n      children: \"mobile\",\n      slotname: \"mobile\"\n    }, {\n      prop: \"user_id\",\n      name: \"邮箱\",\n      children: \"email\"\n    }, {\n      prop: \"role_id\",\n      name: \"角色\",\n      children: \"name\"\n    }, {\n      prop: \"createdAt\",\n      name: \"创建时间\",\n      slotname: \"createdAt\",\n      minWidth: 300\n    }, {\n      prop: \"updatedAt\",\n      name: \"更新时间\",\n      slotname: \"updatedAt\",\n      minWidth: 300\n    }, {\n      prop: \"objectId\",\n      name: \"操作\",\n      slotname: \"objectId\",\n      minWidth: 300\n    }];\n    let pageParams = {\n      page: 1,\n      limit: 5,\n      total: 7\n    };\n    return {\n      tableData,\n      columns,\n      pageParams,\n      deldialogVisible: false\n    };\n  },\n\n  created() {\n    let _this = this;\n\n    cRequest1.getRequest(mainurl.userroleUrl + \"?include=user_id,role_id\", null).then(res => {\n      _this.tableData = res.results;\n    });\n  },\n\n  methods: {},\n  components: {\n    caiform,\n    mytable\n  },\n  methods: {\n    //页码变化\n    handleCurrentChange(e) {\n      this.pageParams.page = e;\n      console.log(\"update:handleCurrentChange\", this.pageParams.page);\n    },\n\n    //条数变化\n    handleSizeChange(e) {\n      this.pageParams.limit = e;\n      console.log(\"update:handleSizeChange\", this.pageParams.limit);\n    }\n\n  },\n\n  setup() {\n    const formItems = [{\n      field: \"name\",\n      label: \"用户名\",\n      placeholder: \"请输入用户名\",\n      type: \"input\"\n    }, {\n      field: \"date\",\n      label: \"创建时间\",\n      placeholder: \"请选择创建时间范围\",\n      type: \"datepicker\",\n      otherOptions: {\n        startPlaceholder: '开始时间',\n        endPlaceholder: '结束时间',\n        type: \"daterange\"\n      }\n    }];\n    const formData = ref({\n      id: 1,\n      name: \"cai\"\n    });\n    return {\n      formItems,\n      formData\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA+CA,OAAOA,OAAP,MAAoB,iBAApB;AACA,OAAOC,OAAP,MAAoB,6BAApB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,SAAQC,GAAR,QAAkB,KAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AAEA,eAAe;EACbC,IAAI,EAAE,MADO;;EAEbC,IAAI,GAAE;IACH,IAAIC,SAAJ;IACD,IAAIC,OAAO,GAAC,CACX;MACEC,IAAI,EAAC,UADP;MAEEJ,IAAI,EAAC;IAFP,CADW,EAKX;MACEI,IAAI,EAAC,SADP;MAEEJ,IAAI,EAAC,KAFP;MAGCK,QAAQ,EAAC;IAHV,CALW,EAUX;MACED,IAAI,EAAC,SADP;MAEEJ,IAAI,EAAC,MAFP;MAGEK,QAAQ,EAAC,QAHX;MAIEC,QAAQ,EAAC;IAJX,CAVW,EAgBX;MACEF,IAAI,EAAC,SADP;MAEEJ,IAAI,EAAC,IAFP;MAGEK,QAAQ,EAAC;IAHX,CAhBW,EAqBX;MACED,IAAI,EAAC,SADP;MAEEJ,IAAI,EAAC,IAFP;MAGEK,QAAQ,EAAC;IAHX,CArBW,EA0BX;MACED,IAAI,EAAC,WADP;MAEEJ,IAAI,EAAC,MAFP;MAGEM,QAAQ,EAAC,WAHX;MAIEC,QAAQ,EAAC;IAJX,CA1BW,EAgCX;MACEH,IAAI,EAAC,WADP;MAEEJ,IAAI,EAAC,MAFP;MAGEM,QAAQ,EAAC,WAHX;MAIEC,QAAQ,EAAC;IAJX,CAhCW,EAuCX;MACEH,IAAI,EAAC,UADP;MAEEJ,IAAI,EAAC,IAFP;MAGEM,QAAQ,EAAC,UAHX;MAIEC,QAAQ,EAAC;IAJX,CAvCW,CAAZ;IA8CA,IAAIC,UAAU,GAAC;MACTC,IAAI,EAAC,CADI;MAETC,KAAK,EAAC,CAFG;MAGTC,KAAK,EAAC;IAHG,CAAf;IAKA,OAAO;MAACT,SAAD;MAAWC,OAAX;MAAmBK,UAAnB;MAA8BI,gBAAgB,EAAC;IAA/C,CAAP;EACD,CAxDY;;EAyDbC,OAAO,GAAE;IACH,IAAIC,KAAK,GAAC,IAAV;;IACAlB,SAAS,CAACmB,UAAV,CAAqBjB,OAAO,CAACkB,WAAR,GAAoB,0BAAzC,EAAoE,IAApE,EAA0EC,IAA1E,CAAgFC,GAAD,IAAO;MACjFJ,KAAK,CAACZ,SAAN,GAAgBgB,GAAG,CAACC,OAApB;IAEL,CAHA;EAIL,CA/DY;;EAgEbC,OAAO,EAAC,EAhEK;EAkEbC,UAAU,EAAC;IACT3B,OADS;IAETC;EAFS,CAlEE;EAsEbyB,OAAO,EAAE;IACN;IACFE,mBAAmB,CAACC,CAAD,EAAI;MACrB,KAAKf,UAAL,CAAgBC,IAAhB,GAAqBc,CAArB;MACIC,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAAyC,KAAKjB,UAAL,CAAgBC,IAAzD;IACL,CALO;;IAMR;IACAiB,gBAAgB,CAACH,CAAD,EAAI;MACjB,KAAKf,UAAL,CAAgBE,KAAhB,GAAwBa,CAAxB;MACGC,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAsC,KAAKjB,UAAL,CAAgBE,KAAtD;IACN;;EAVQ,CAtEI;;EAkFbiB,KAAK,GAAG;IACN,MAAMC,SAAS,GAAC,CACd;MACEC,KAAK,EAAC,MADR;MAEEC,KAAK,EAAC,KAFR;MAGEC,WAAW,EAAC,QAHd;MAIEC,IAAI,EAAC;IAJP,CADc,EAOd;MACEH,KAAK,EAAC,MADR;MAEEC,KAAK,EAAC,MAFR;MAGEC,WAAW,EAAC,WAHd;MAIEC,IAAI,EAAC,YAJP;MAKEC,YAAY,EAAC;QACXC,gBAAgB,EAAC,MADN;QAEXC,cAAc,EAAC,MAFJ;QAGXH,IAAI,EAAC;MAHM;IALf,CAPc,CAAhB;IAmBA,MAAMI,QAAQ,GAACvC,GAAG,CAAC;MACbwC,EAAE,EAAC,CADU;MAEbrC,IAAI,EAAC;IAFQ,CAAD,CAAlB;IAIA,OAAO;MAAC4B,SAAD;MAAWQ;IAAX,CAAP;EACF;;AA3Ga,CAAf","names":["caiform","mytable","cRequest1","ref","mainurl","maincss","name","data","tableData","columns","prop","children","slotname","minWidth","pageParams","page","limit","total","deldialogVisible","created","_this","getRequest","userroleUrl","then","res","results","methods","components","handleCurrentChange","e","console","log","handleSizeChange","setup","formItems","field","label","placeholder","type","otherOptions","startPlaceholder","endPlaceholder","formData","id"],"sourceRoot":"","sources":["E:\\CaiCai\\前端学习\\Vue学习\\job-web-vue3\\src\\views\\main\\system\\user\\user.vue"],"sourcesContent":["<template>\r\n  <div class=\"user\">\r\n    <!-- <h2>user</h2> -->\r\n   <div class=\"search\">\r\n       <caiform :formItems=\"formItems\" v-model=\"formData\">\r\n          <template #search>\r\n            <el-button  type=\"primary\" :icon=\"el-icon-refresh\">重置</el-button>\r\n            <el-button type=\"primary\" :icon=\"Search\">查询</el-button>\r\n          </template>\r\n        </caiform>\r\n   </div>\r\n   <div class=\"maincontent\">\r\n   <!-- <div>{{tableData}}</div> -->\r\n     <mytable :tableData=\"tableData\" :columns=\"columns\"   :pageParams=\"pageParams\"  :@handleSizeChange=\"handleSizeChange\" :@handleCurrentChange=\"handleCurrentChange\">\r\n        <template  #objectId>\r\n                  <!-- <span>{{scope}}</span> -->\r\n            <el-button type=\"success\" plain>编辑</el-button>\r\n            <el-button type=\"success\" @click=\"deldialogVisible = true\">删除</el-button>\r\n        </template>\r\n          <!-- <template #createdAt=\"scope\">\r\n           <strong> {{scope.row.createdAt}}</strong>\r\n        </template> -->\r\n     </mytable>\r\n          <el-dialog\r\n          v-model=\"deldialogVisible\"\r\n          title=\"提示\"\r\n          width=\"30%\"\r\n            :before-close=\"handleClose\"\r\n          >\r\n               <template #header>\r\n                   <span style=\"margin-left:-390px;font-weight:bold\">提示</span>\r\n               </template>\r\n               <span style=\"font-size:20px\">确认删除吗？</span>      \r\n              <template #footer>\r\n                <span class=\"dialog-footer\">\r\n                  <el-button @click=\"deldialogVisible = false\">取消</el-button>\r\n                  <el-button type=\"danger\" @click=\"deldialogVisible = false\"\r\n                    >确认</el-button\r\n                  >\r\n                </span>\r\n              </template>\r\n   </el-dialog>\r\n   </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport caiform from '@/base-ui/index'\r\nimport mytable from '@/components/my_table/index'\r\nimport cRequest1 from '@/service/index'\r\nimport {ref} from 'vue'\r\nimport mainurl from '@/service/url/mainurl'\r\nimport maincss from '@/assets/css/index.css'\r\n\r\nexport default {\r\n  name: 'user',\r\n  data(){\r\n     let tableData;\r\n    let columns=[\r\n     {\r\n       prop:\"objectId\",\r\n       name:\"objectId\"\r\n     },\r\n     {\r\n       prop:\"user_id\",\r\n       name:\"用户名\",\r\n      children:\"username\"\r\n     },\r\n     {\r\n       prop:\"user_id\",\r\n       name:\"电话号码\",\r\n       children:\"mobile\",\r\n       slotname:\"mobile\"\r\n     },\r\n     {\r\n       prop:\"user_id\",\r\n       name:\"邮箱\",\r\n       children:\"email\",\r\n     },\r\n     {\r\n       prop:\"role_id\",\r\n       name:\"角色\",\r\n       children:\"name\",\r\n     },\r\n     {\r\n       prop:\"createdAt\",\r\n       name:\"创建时间\",\r\n       slotname:\"createdAt\",\r\n       minWidth:300\r\n     },\r\n     {\r\n       prop:\"updatedAt\",\r\n       name:\"更新时间\",\r\n       slotname:\"updatedAt\",\r\n       minWidth:300\r\n     }\r\n     ,\r\n     {\r\n       prop:\"objectId\",\r\n       name:\"操作\",\r\n       slotname:\"objectId\",\r\n       minWidth:300\r\n     }\r\n    ];\r\n    let pageParams={\r\n          page:1,\r\n          limit:5,\r\n          total:7\r\n    }\r\n    return {tableData,columns,pageParams,deldialogVisible:false}\r\n  },\r\n  created(){\r\n        let _this=this;\r\n        cRequest1.getRequest(mainurl.userroleUrl+\"?include=user_id,role_id\",null).then((res)=>{\r\n             _this.tableData=res.results;\r\n\r\n       });\r\n  },\r\n  methods:{\r\n  },\r\n  components:{\r\n    caiform,\r\n    mytable\r\n  },\r\n  methods: {\r\n    \t//页码变化\r\n\t\t\thandleCurrentChange(e) {\r\n\t\t\t\t this.pageParams.page=e;\r\n         console.log(\"update:handleCurrentChange\",this.pageParams.page);\r\n\t\t\t},\r\n\t\t\t//条数变化\r\n\t\t\thandleSizeChange(e) {\r\n    \t\tthis.pageParams.limit = e;\r\n         console.log(\"update:handleSizeChange\",this.pageParams.limit);\r\n\t\t\t}\r\n  },\r\n  setup() {\r\n    const formItems=[\r\n      {\r\n        field:\"name\",\r\n        label:\"用户名\",\r\n        placeholder:\"请输入用户名\",\r\n        type:\"input\"\r\n      }  ,\r\n      {\r\n        field:\"date\",\r\n        label:\"创建时间\",\r\n        placeholder:\"请选择创建时间范围\",\r\n        type:\"datepicker\",\r\n        otherOptions:{\r\n          startPlaceholder:'开始时间',\r\n          endPlaceholder:'结束时间',\r\n          type:\"daterange\"\r\n        }\r\n       }\r\n    ];\r\n    const formData=ref({\r\n          id:1,\r\n          name:\"cai\"\r\n     })\r\n    return {formItems,formData}\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.dialog-footer button:first-child {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}