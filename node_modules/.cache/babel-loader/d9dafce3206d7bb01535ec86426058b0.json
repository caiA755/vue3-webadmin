{"ast":null,"code":"import caiform from '@/base-ui/index';\nimport mytable from '@/components/my_table/index';\nimport cRequest1 from '@/service/index';\nimport { ref } from 'vue';\nimport mainurl from '@/service/url/mainurl';\nimport maincss from '@/assets/css/index.css';\nexport default {\n  name: 'user',\n\n  data() {\n    let tableData;\n    let columns = [{\n      prop: \"objectId\",\n      name: \"objectId\"\n    }, {\n      prop: \"user_id\",\n      name: \"用户名\",\n      children: \"username\"\n    }, {\n      prop: \"user_id\",\n      name: \"电话号码\",\n      children: \"mobile\",\n      slotname: \"mobile\"\n    }, {\n      prop: \"user_id\",\n      name: \"邮箱\",\n      children: \"email\"\n    }, {\n      prop: \"role_id\",\n      name: \"角色\",\n      children: \"name\"\n    }, {\n      prop: \"createdAt\",\n      name: \"创建时间\",\n      slotname: \"createdAt\",\n      minWidth: 300\n    }, {\n      prop: \"updatedAt\",\n      name: \"更新时间\",\n      slotname: \"updatedAt\",\n      minWidth: 300\n    }, {\n      prop: \"objectId\",\n      name: \"操作\",\n      slotname: \"objectId\",\n      minWidth: 300\n    }];\n    let pageParams = {\n      page: 1,\n      limit: 5,\n      total: 7\n    };\n    return {\n      tableData,\n      columns,\n      pageParams,\n      deldialogVisible: false\n    };\n  },\n\n  created() {\n    let _this = this;\n\n    cRequest1.getRequest(mainurl.userroleUrl + \"?include=user_id,role_id\", null).then(res => {\n      _this.tableData = res.results;\n    });\n  },\n\n  methods: {},\n  components: {\n    caiform,\n    mytable\n  },\n  methods: {\n    //页码变化\n    handleCurrentChange(e) {\n      this.pageParams.page = e;\n      console.log(\"update:handleCurrentChange\", this.pageParams.page);\n    },\n\n    //条数变化\n    handleSizeChange(e) {\n      this.pageParams.limit = e;\n      console.log(\"update:handleSizeChange\", this.pageParams.limit);\n    }\n\n  },\n\n  setup() {\n    const formItems = [{\n      field: \"name\",\n      label: \"用户名\",\n      placeholder: \"请输入用户名\",\n      type: \"input\"\n    }, {\n      field: \"date\",\n      label: \"创建时间\",\n      placeholder: \"请选择创建时间范围\",\n      type: \"datepicker\",\n      otherOptions: {\n        startPlaceholder: '开始时间',\n        endPlaceholder: '结束时间',\n        type: \"daterange\"\n      }\n    }];\n    const formData = ref({\n      id: 1,\n      name: \"cai\"\n    });\n    return {\n      formItems,\n      formData\n    };\n  }\n\n};","map":null,"metadata":{},"sourceType":"module"}