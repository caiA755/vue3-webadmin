{"ast":null,"code":"import axios from 'axios';\nimport { Promise } from 'core-js';\nimport { ElLoading } from \"element-plus\";\nimport Vue from 'vue';\nconst config = {\n  headers: {\n    'X-Bmob-Application-Id': 'e536863a0210f9b43a1e5344b785de3d',\n    'X-Bmob-REST-API-Key': '37b324a62cedd302e6a22fc84e622a5a',\n    'Content-Type': 'application/json'\n  },\n  baseURL: \"https://api2.bmob.cn\",\n  timeout: 50000\n}; //全局配置\n\naxios.defaults.baseURL = config.baseURL;\naxios.defaults.headers = config.headers; //\n\nlet loading;\n\nfunction startLoading() {\n  loading = Vue.prototype.$loading({\n    lock: true,\n    text: \"Loading...\",\n    target: document.querySelector('.loading-area') //设置加载动画区域\n\n  });\n}\n\nfunction endLoading() {\n  loading.close();\n} //axios实例\n\n\naxios.get('/1/classes/_User').then(res => {\n  console.log(res);\n});\nexport function loadingPage() {\n  //添加拦截请求器\n  let loadingInstance = null;\n  axios.interceptors.request.use(function (config) {\n    //在发送请求之前做些什么\n    loadingInstance = ElLoading.service({\n      fullscreen: true,\n      text: \"你好\"\n    });\n    return config;\n  }, function (error) {\n    //对请求错误做些什么\n    return Promise.reject(error);\n  }); // 声明响应拦截器\n\n  axios.interceptors.response.use(response => {\n    // 隐藏 Loading 效果\n    loadingInstance.close();\n    return response;\n  });\n}","map":{"version":3,"names":["axios","Promise","ElLoading","Vue","config","headers","baseURL","timeout","defaults","loading","startLoading","prototype","$loading","lock","text","target","document","querySelector","endLoading","close","get","then","res","console","log","loadingPage","loadingInstance","interceptors","request","use","service","fullscreen","error","reject","response"],"sources":["E:/CaiCai/前端学习/Vue学习/job-web-vue3/src/service/axios_config.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Promise } from 'core-js';\r\nimport { ElLoading } from \"element-plus\";\r\nimport Vue from 'vue'\r\n\r\nconst config = {\r\n    headers: {\r\n        'X-Bmob-Application-Id': 'e536863a0210f9b43a1e5344b785de3d',\r\n        'X-Bmob-REST-API-Key': '37b324a62cedd302e6a22fc84e622a5a',\r\n        'Content-Type': 'application/json'\r\n    },\r\n    baseURL: \"https://api2.bmob.cn\",\r\n    timeout: 50000,\r\n};\r\n//全局配置\r\naxios.defaults.baseURL = config.baseURL;\r\naxios.defaults.headers = config.headers;\r\n//\r\nlet loading;\r\n\r\nfunction startLoading() {\r\n    loading = Vue.prototype.$loading({\r\n        lock: true,\r\n        text: \"Loading...\",\r\n        target: document.querySelector('.loading-area') //设置加载动画区域\r\n    });\r\n}\r\n\r\nfunction endLoading() {\r\n    loading.close();\r\n}\r\n//axios实例\r\naxios.get('/1/classes/_User').then((res) => {\r\n    console.log(res);\r\n});\r\n\r\nexport function loadingPage() {\r\n    //添加拦截请求器\r\n    let loadingInstance = null\r\n    axios.interceptors.request.use(function(config) {\r\n        //在发送请求之前做些什么\r\n        loadingInstance = ElLoading.service({ fullscreen: true, text: \"你好\" });\r\n        return config;\r\n    }, function(error) {\r\n        //对请求错误做些什么\r\n        return Promise.reject(error);\r\n    });\r\n    // 声明响应拦截器\r\n    axios.interceptors.response.use((response) => {\r\n        // 隐藏 Loading 效果\r\n        loadingInstance.close();\r\n        return response;\r\n    });\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,MAAMC,MAAM,GAAG;EACXC,OAAO,EAAE;IACL,yBAAyB,kCADpB;IAEL,uBAAuB,kCAFlB;IAGL,gBAAgB;EAHX,CADE;EAMXC,OAAO,EAAE,sBANE;EAOXC,OAAO,EAAE;AAPE,CAAf,C,CASA;;AACAP,KAAK,CAACQ,QAAN,CAAeF,OAAf,GAAyBF,MAAM,CAACE,OAAhC;AACAN,KAAK,CAACQ,QAAN,CAAeH,OAAf,GAAyBD,MAAM,CAACC,OAAhC,C,CACA;;AACA,IAAII,OAAJ;;AAEA,SAASC,YAAT,GAAwB;EACpBD,OAAO,GAAGN,GAAG,CAACQ,SAAJ,CAAcC,QAAd,CAAuB;IAC7BC,IAAI,EAAE,IADuB;IAE7BC,IAAI,EAAE,YAFuB;IAG7BC,MAAM,EAAEC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAHqB,CAGmB;;EAHnB,CAAvB,CAAV;AAKH;;AAED,SAASC,UAAT,GAAsB;EAClBT,OAAO,CAACU,KAAR;AACH,C,CACD;;;AACAnB,KAAK,CAACoB,GAAN,CAAU,kBAAV,EAA8BC,IAA9B,CAAoCC,GAAD,IAAS;EACxCC,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,CAFD;AAIA,OAAO,SAASG,WAAT,GAAuB;EAC1B;EACA,IAAIC,eAAe,GAAG,IAAtB;EACA1B,KAAK,CAAC2B,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAASzB,MAAT,EAAiB;IAC5C;IACAsB,eAAe,GAAGxB,SAAS,CAAC4B,OAAV,CAAkB;MAAEC,UAAU,EAAE,IAAd;MAAoBjB,IAAI,EAAE;IAA1B,CAAlB,CAAlB;IACA,OAAOV,MAAP;EACH,CAJD,EAIG,UAAS4B,KAAT,EAAgB;IACf;IACA,OAAO/B,OAAO,CAACgC,MAAR,CAAeD,KAAf,CAAP;EACH,CAPD,EAH0B,CAW1B;;EACAhC,KAAK,CAAC2B,YAAN,CAAmBO,QAAnB,CAA4BL,GAA5B,CAAiCK,QAAD,IAAc;IAC1C;IACAR,eAAe,CAACP,KAAhB;IACA,OAAOe,QAAP;EACH,CAJD;AAKH"},"metadata":{},"sourceType":"module"}