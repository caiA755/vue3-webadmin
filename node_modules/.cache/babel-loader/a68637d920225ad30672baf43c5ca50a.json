{"ast":null,"code":"export default {\n  name: \"myTable\",\n  props: {\n    tableData: {\n      type: Array,\n      default: () => {}\n    },\n    columns: {\n      type: Array,\n      default: () => {}\n    } // pageParams:{\n    //     type: Object,\n    //     default: function () {\n    //       return {\n    //           page:1,\n    //           limit:20,\n    //           total:0\n    //       }\n    //     }\n    //   }\n\n  },\n  // methods:{\n  //    // 条数变化\n  // \t\thandleSizeChange(e) {\n  //       console.log(\"条数变化\",e);\n  // \t\t\tthis.$emit('handleSizeChange', e);\n  // \t\t},\n  // \t\t// 页码变化\n  // \t\thandleCurrentChange(e) {\n  //        console.log(\"页码变化\",e);\n  // \t\t\tthis.$emit('handleCurrentChange', e);\n  // \t\t}\n  // },\n  emits: [\"update:modelValue\"],\n\n  setup(props, {\n    emit\n  }) {\n    const pageParams = ref({ ...props.modelValue\n    });\n    watch(pageParams, newValue => {\n      emit('update:modelValue', newValue);\n    }, {\n      deep: true\n    });\n    return {\n      pageParams: pageParams\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAwBA,eAAe;EACbA,IAAI,EAAC,SADQ;EAEbC,KAAK,EAAC;IACJC,SAAS,EAAC;MACNC,IAAI,EAACC,KADC;MAENC,OAAO,EAAC,MAAI,CACZ;IAHM,CADN;IAMJC,OAAO,EAAC;MACJH,IAAI,EAACC,KADD;MAEJC,OAAO,EAAC,MAAI,CACZ;IAHI,CANJ,CAWJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EApBI,CAFO;EAwBb;EACA;EACD;EACC;EACD;EACA;EACA;EACA;EACC;EACD;EACA;EACC;EACCE,KAAK,EAAC,CAAC,mBAAD,CApCM;;EAqCbC,KAAK,CAACP,KAAD,EAAO;IAACQ;EAAD,CAAP,EAAc;IACZ,MAAMC,UAAU,GAACC,GAAG,CAAC,EAAC,GAAGV,KAAK,CAACW;IAAV,CAAD,CAApB;IACCC,KAAK,CAACH,UAAD,EAAaI,QAAD,IAAY;MACxBL,IAAI,CAAC,mBAAD,EAAqBK,QAArB,CAAJ;IACJ,CAFI,EAEH;MACEC,IAAI,EAAC;IADP,CAFG,CAAL;IAKA,OAAO;MACLL,UAAU,EAACA;IADN,CAAP;EAGL;;AA/CU,CAAf","names":["name","props","tableData","type","Array","default","columns","emits","setup","emit","pageParams","ref","modelValue","watch","newValue","deep"],"sourceRoot":"","sources":["E:\\CaiCai\\前端学习\\Vue学习\\job-web-vue3\\src\\components\\my_table\\src\\table.vue"],"sourcesContent":["<template>\r\n      <el-table :data=\"tableData\" :default-sort=\"{ prop: 'createdAt', order: 'descending' }\" :columns=\"columns\"  style=\"width: 100%\" >\r\n           <el-table-column v-for=\"item in columns\" sortable  :prop=\"item.prop\" :label=\"item.name\" :key=\"item.prop\" >\r\n              <template #default=\"scope\" > \r\n                <slot  :name=\"item.slotname\">\r\n                      {{scope.row[item.prop]}}\r\n                </slot>\r\n              </template> \r\n           </el-table-column>\r\n     </el-table>\r\n       <el-pagination \r\n            class=\"table-box-pagination\" \r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"pageCurrentChange\"\r\n           :current-change=\"pageParams.page\"\r\n            :page-sizes=\"[ 5, 30, 50, 100 ]\"\r\n            :page-size=\"pageParams.limit\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"pageParams.total\">\r\n        </el-pagination>\r\n         <!-- :current-page=\"pageParams.page\" -->\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name:\"myTable\",\r\n  props:{\r\n    tableData:{\r\n        type:Array,\r\n        default:()=>{\r\n        }\r\n    },\r\n    columns:{\r\n        type:Array,\r\n        default:()=>{\r\n        }\r\n    },\r\n    // pageParams:{\r\n    //     type: Object,\r\n    //     default: function () {\r\n    //       return {\r\n    //           page:1,\r\n    //           limit:20,\r\n    //           total:0\r\n    //       }\r\n    //     }\r\n    //   }\r\n  },\r\n  // methods:{\r\n  //    // 条数变化\r\n\t// \t\thandleSizeChange(e) {\r\n  //       console.log(\"条数变化\",e);\r\n\t// \t\t\tthis.$emit('handleSizeChange', e);\r\n\t// \t\t},\r\n\t// \t\t// 页码变化\r\n\t// \t\thandleCurrentChange(e) {\r\n  //        console.log(\"页码变化\",e);\r\n\t// \t\t\tthis.$emit('handleCurrentChange', e);\r\n\t// \t\t}\r\n  // },\r\n   emits:[\"update:modelValue\"],\r\n  setup(props,{emit}){\r\n         const pageParams=ref({...props.modelValue})\r\n          watch(pageParams,(newValue)=>{\r\n               emit('update:modelValue',newValue);\r\n          },{\r\n              deep:true\r\n          });\r\n          return {\r\n            pageParams:pageParams\r\n          }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}