{"ast":null,"code":"// import { createRouter } from \"vue-router\";\n// import { id } from \"element-plus/es/locale\";\n// import { createRouter, createWebHistory } from \"vue-router\"\nfunction mapMenusToRouter(userMenus) {\n  const routes = []; // 默认加载所有的routes\n\n  const allRoutes = []; //require.context()属于webpack的工具 可以加载整个文件夹\n\n  const routerFiles = require.context(\"../router/main\", true, /\\.js/);\n\n  routerFiles.keys().forEach(key => {\n    const route = require(\"../router/main\" + key.split('.')[1]);\n\n    allRoutes.push(route.default);\n  }); // console.log(\"所有main下面的路由\", allRoutes);\n  //根据菜单获取需要加载的routes\n  //type==3->url->route\n  //type==1->children-->type===2\n\n  function _recurseGetRoute(mainmenus) {\n    for (let menu of mainmenus) {\n      if (menu.type === 3 || menu.type == 2) {\n        const route = allRoutes.find(route => {\n          return route.path === menu.url;\n        });\n\n        if (route) {\n          routes.push(route);\n        }\n      }\n\n      if (menu.type === 1) {\n        _recurseGetRoute(menu.children);\n      }\n    }\n  }\n\n  _recurseGetRoute(userMenus);\n\n  return routes;\n}\n\nexport default mapMenusToRouter;","map":null,"metadata":{},"sourceType":"module"}