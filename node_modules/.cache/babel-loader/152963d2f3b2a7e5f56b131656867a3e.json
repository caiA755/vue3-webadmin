{"ast":null,"code":"import { createRouter } from \"vue-router\";\n\nfunction mapMenusToRouter(userMenus) {\n  const routers = []; // 默认加载所有的routes\n\n  const allRoutes = []; //require.context()属于webpack的工具 可以加载整个文件夹\n\n  const routerFiles = require.context(\"../router/main\", true, /\\.js/);\n\n  routerFiles.keys().forEach(key => {\n    const route = require(\"../router/main\" + key.split('.')[1]);\n\n    allRoutes.push(route.default);\n  });\n  console.log(\"所有main下面的路由\", allRoutes); //根据菜单获取需要加载的routes\n  //type==3->url->route\n  //type==1->children-->type===2\n\n  console.log(\"usermenus\", userMenus);\n\n  _recurseGetRoute(userMenus);\n\n  return routers;\n}\n\nfunction _recurseGetRoute(mainmenus) {\n  console.log(\"mainmenus\", mainmenus); // for (let menu of menus) {\n\n  for (let i = 0; i < 5; i++) {\n    if (mainmenus[i].type === 3) {\n      const route = allRoutes.find(route => {\n        route.url = mainmenus[i].url;\n      });\n\n      if (route) {\n        routers.push(route);\n      }\n    } else {\n      _recurseGetRoute(mainmenus[i].children);\n    }\n  } // }\n\n}\n\nexport default mapMenusToRouter;","map":{"version":3,"names":["createRouter","mapMenusToRouter","userMenus","routers","allRoutes","routerFiles","require","context","keys","forEach","key","route","split","push","default","console","log","_recurseGetRoute","mainmenus","i","type","find","url","children"],"sources":["E:/CaiCai/前端学习/Vue学习/job-web-vue3/src/utils/map_menus.js"],"sourcesContent":["import { createRouter } from \"vue-router\";\r\n\r\nfunction mapMenusToRouter(userMenus) {\r\n    const routers = [];\r\n    // 默认加载所有的routes\r\n    const allRoutes = [];\r\n    //require.context()属于webpack的工具 可以加载整个文件夹\r\n    const routerFiles = require.context(\"../router/main\", true, /\\.js/);\r\n    routerFiles.keys().forEach((key) => {\r\n        const route = require(\"../router/main\" + key.split('.')[1])\r\n        allRoutes.push(route.default);\r\n    });\r\n    console.log(\"所有main下面的路由\", allRoutes);\r\n    //根据菜单获取需要加载的routes\r\n    //type==3->url->route\r\n    //type==1->children-->type===2\r\n\r\n    console.log(\"usermenus\", userMenus);\r\n    _recurseGetRoute(userMenus);\r\n    return routers;\r\n}\r\n\r\nfunction _recurseGetRoute(mainmenus) {\r\n    console.log(\"mainmenus\", mainmenus);\r\n    // for (let menu of menus) {\r\n    for (let i = 0; i < 5; i++) {\r\n        if (mainmenus[i].type === 3) {\r\n            const route = allRoutes.find((route) => {\r\n                route.url = mainmenus[i].url;\r\n            });\r\n            if (route) {\r\n                routers.push(route);\r\n            }\r\n        } else {\r\n            _recurseGetRoute(mainmenus[i].children);\r\n        }\r\n    }\r\n    // }\r\n}\r\nexport default mapMenusToRouter"],"mappings":"AAAA,SAASA,YAAT,QAA6B,YAA7B;;AAEA,SAASC,gBAAT,CAA0BC,SAA1B,EAAqC;EACjC,MAAMC,OAAO,GAAG,EAAhB,CADiC,CAEjC;;EACA,MAAMC,SAAS,GAAG,EAAlB,CAHiC,CAIjC;;EACA,MAAMC,WAAW,GAAGC,OAAO,CAACC,OAAR,CAAgB,gBAAhB,EAAkC,IAAlC,EAAwC,MAAxC,CAApB;;EACAF,WAAW,CAACG,IAAZ,GAAmBC,OAAnB,CAA4BC,GAAD,IAAS;IAChC,MAAMC,KAAK,GAAGL,OAAO,CAAC,mBAAmBI,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAApB,CAArB;;IACAR,SAAS,CAACS,IAAV,CAAeF,KAAK,CAACG,OAArB;EACH,CAHD;EAIAC,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BZ,SAA3B,EAViC,CAWjC;EACA;EACA;;EAEAW,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBd,SAAzB;;EACAe,gBAAgB,CAACf,SAAD,CAAhB;;EACA,OAAOC,OAAP;AACH;;AAED,SAASc,gBAAT,CAA0BC,SAA1B,EAAqC;EACjCH,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBE,SAAzB,EADiC,CAEjC;;EACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;IACxB,IAAID,SAAS,CAACC,CAAD,CAAT,CAAaC,IAAb,KAAsB,CAA1B,EAA6B;MACzB,MAAMT,KAAK,GAAGP,SAAS,CAACiB,IAAV,CAAgBV,KAAD,IAAW;QACpCA,KAAK,CAACW,GAAN,GAAYJ,SAAS,CAACC,CAAD,CAAT,CAAaG,GAAzB;MACH,CAFa,CAAd;;MAGA,IAAIX,KAAJ,EAAW;QACPR,OAAO,CAACU,IAAR,CAAaF,KAAb;MACH;IACJ,CAPD,MAOO;MACHM,gBAAgB,CAACC,SAAS,CAACC,CAAD,CAAT,CAAaI,QAAd,CAAhB;IACH;EACJ,CAdgC,CAejC;;AACH;;AACD,eAAetB,gBAAf"},"metadata":{},"sourceType":"module"}