{"ast":null,"code":"import { reactive, ref, watch, toRaw, toRefs } from 'vue';\nexport default {\n  props: {\n    formItems: {\n      type: Array,\n      default: () => {//数据和对象类型 写默认值要用箭头函数\n      },\n      modelValue: {\n        type: Object,\n        require: true\n      }\n    },\n\n    data() {\n      return {\n        formData: {\n          name: \"ss\"\n        }\n      };\n    },\n\n    emits: [\"update:modelValue\"],\n\n    setup(props, {\n      emit\n    }) {\n      let instance = getCurrentInstance();\n      console.log(\"hhh\");\n      const formData = ref({ ...props.modelValue\n      });\n      console.log(toRaw(formData).name);\n      watch(formData, newValue => {\n        emit('update:modelValue', newValue);\n      }, {\n        deep: true\n      });\n      return {\n        formData\n      };\n    }\n\n  } // colLayout:{\n  //     type:Object,\n  //     default:()=>({\n  //         xl: 6,  //1920px 4个\n  //         lg: {span: 8, offset: 0},\n  //         md:{span: 12, offset: 0},\n  //         sm:{span: 24, offset: 0},\n  //         xs:{span: 24, offset: 0},\n  //     })\n  // },\n  // formStyle:{\n  //     type:String,\n  //     default:()=>({\n  //         padding:'10px'\n  //     })\n  // }\n  // },\n\n};","map":{"version":3,"mappings":"AAwCA,SAAQA,QAAR,EAAiBC,GAAjB,EAAqBC,KAArB,EAA2BC,KAA3B,EAAiCC,MAAjC,QAA8C,KAA9C;AACA,eAAe;EACbC,KAAK,EAAC;IACFC,SAAS,EAAC;MACRC,IAAI,EAACC,KADG;MAERC,OAAO,EAAC,MAAI,CACT;MACJ,CAJS;MAKVC,UAAU,EAAC;QACTH,IAAI,EAACI,MADI;QAETC,OAAO,EAAC;MAFC;IALD,CADR;;IAWJC,IAAI,GAAE;MACJ,OAAM;QACJC,QAAQ,EAAC;UACPC,IAAI,EAAC;QADE;MADL,CAAN;IAKD,CAjBG;;IAkBJC,KAAK,EAAC,CAAC,mBAAD,CAlBF;;IAmBJC,KAAK,CAACZ,KAAD,EAAO;MAACa;IAAD,CAAP,EAAc;MACf,IAAIC,QAAQ,GAACC,kBAAkB,EAA/B;MACAC,OAAO,CAACC,GAAR,CAAY,KAAZ;MACA,MAAMR,QAAQ,GAACb,GAAG,CAAC,EAAC,GAAGI,KAAK,CAACK;MAAV,CAAD,CAAlB;MACAW,OAAO,CAACC,GAAR,CAAanB,KAAK,CAACW,QAAD,CAAN,CAAkBC,IAA9B;MACGb,KAAK,CAACY,QAAD,EAAWS,QAAD,IAAY;QACvBL,IAAI,CAAC,mBAAD,EAAqBK,QAArB,CAAJ;MACJ,CAFK,EAEJ;QACEC,IAAI,EAAC;MADP,CAFI,CAAL;MAKL,OAAO;QAACV;MAAD,CAAP;IACF;;EA9BI,CADO,CAiCX;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACF;;AAjDa,CAAf","names":["reactive","ref","watch","toRaw","toRefs","props","formItems","type","Array","default","modelValue","Object","require","data","formData","name","emits","setup","emit","instance","getCurrentInstance","console","log","newValue","deep"],"sourceRoot":"","sources":["E:\\CaiCai\\前端学习\\Vue学习\\job-web-vue3\\src\\base-ui\\src\\form.vue"],"sourcesContent":["<template>\r\n  <div class=\"cai-form\">\r\n     <el-form label-width=\"100px\">\r\n        <el-row :gutter=\"20\">\r\n            <template v-for=\"item in formItems\" :key=\"item.label\">\r\n                <el-col  :span=\"6\" :xl=\"6\" :lg=\"8\" :md=\"12\" :sm=\"24\" :xs=\"24\">\r\n                    <el-form-item :label=\"item.label\">\r\n                        <template v-if=\"item.type=='input'\">\r\n                           <el-input modelValue=\"formData[`${item.field}`]\" :placeholder=\"item.placeholder\"/>\r\n                           <!-- <el-input v-model=\"formData[`${item.field}`]\" :placeholder=\"item.placeholder\"/> -->\r\n                        </template>\r\n                        <template v-else-if=\"item.type=='select'\">\r\n                           <el-select :placeholder=\"item.placeholder\">\r\n                              <el-option v-for=\"opt in item.options\" :value=\"opt.value\" :key=\"opt.value\">\r\n                                    {{opt.title}}\r\n                              </el-option>\r\n                           </el-select>\r\n                        </template>\r\n                        <template v-else-if=\"item.type=='datepicker'\">\r\n                               <!-- <el-date-picker  item.otherOptions  ></el-date-picker> -->\r\n                                <!-- <el-date-picker  @calendar-change=\"change($event)\"  ></el-date-picker> -->\r\n                                <!-- <div class=\"block\"> -->\r\n                                <!-- <span class=\"demonstration\">Start date time 12:00:00</span> -->\r\n                                <el-date-picker  \r\n                                type=\"datetimerange\"\r\n                                start-placeholder=\"开始日期\"\r\n                                end-placeholder=\"结束日期\"\r\n                                />\r\n                             \r\n                            <!-- </div> -->\r\n                             </template>\r\n                    </el-form-item>\r\n                </el-col>\r\n            </template>\r\n        </el-row>\r\n     </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {reactive,ref,watch,toRaw,toRefs} from 'vue'\r\nexport default {\r\n  props:{\r\n      formItems:{\r\n        type:Array,\r\n        default:()=>{\r\n           //数据和对象类型 写默认值要用箭头函数\r\n      },\r\n      modelValue:{\r\n        type:Object,\r\n        require:true\r\n      }\r\n    },\r\n    data(){\r\n      return{\r\n        formData:{\r\n          name:\"ss\"\r\n        }\r\n      }\r\n    },\r\n    emits:[\"update:modelValue\"],\r\n    setup(props,{emit}){\r\n        let instance=getCurrentInstance();\r\n        console.log(\"hhh\")\r\n        const formData=ref({...props.modelValue})\r\n        console.log((toRaw(formData)).name);\r\n           watch(formData,(newValue)=>{\r\n               emit('update:modelValue',newValue);\r\n          },{\r\n              deep:true\r\n          });\r\n      return {formData}\r\n    }\r\n  }\r\n    // colLayout:{\r\n    //     type:Object,\r\n    //     default:()=>({\r\n    //         xl: 6,  //1920px 4个\r\n    //         lg: {span: 8, offset: 0},\r\n    //         md:{span: 12, offset: 0},\r\n    //         sm:{span: 24, offset: 0},\r\n    //         xs:{span: 24, offset: 0},\r\n    //     })\r\n    // },\r\n    // formStyle:{\r\n    //     type:String,\r\n    //     default:()=>({\r\n    //         padding:'10px'\r\n    //     })\r\n    // }\r\n  // },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}