{"ast":null,"code":"import localCache from '@/utils/cache.js';\nimport pathMapBreadcrumbs from '@/utils/map_bread.js';\nimport breadcrumb from '@/base-ui/src/breadcrumbv.vue';\nimport localeCache from '@/utils/cache';\nimport { toRaw } from '@vue/reactivity';\nimport mapMenusToRouter from '@/utils/map_menus.js';\nexport default {\n  data() {\n    return {\n      username: localCache.getCache(\"username\"),\n      breadcrumbs: null //  imgsrc:\"@/asset/img/touxiangA.jpg\"\n\n    };\n  },\n\n  created() {\n    this.getBreadPath();\n  },\n\n  components: {\n    breadcrumb\n  },\n  methods: {\n    getBreadPath() {\n      let menuinfo = toRaw(localeCache.getCache(\"menuinfo\"));\n\n      if (menuinfo != \"undefined\" || menuinfo == null) {\n        let menus = Array.from(toRaw(localeCache.getCache(\"menuinfo\")));\n\n        if (menus.length > 0) {\n          // let menus=Array.from(toRaw(this.userMenus));\n          let routes = mapMenusToRouter(menus);\n\n          for (var i = 0; i < routes.length; i++) {\n            router.options.routes.push(routes[i]);\n            router.addRoute('main', routes[i]);\n            console.log(router);\n            const currentPath = this.$route.path; //  console.log(\"当前的菜单\",menus)\n\n            const currentMenu = pathMapToMenu(menus, currentPath); //  console.log(currentMenu);\n\n            if (typeof currentMenu === \"undefined\") {\n              return null;\n            } else {\n              this.defaultvalue = currentMenu.objectId;\n            }\n          }\n        } //获取路径信息\n\n\n        this.breadcrumbs = pathMapBreadcrumbs(menus, currentPath);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA,OAAOA,UAAP,MAAuB,kBAAvB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,OAAOC,gBAAP,MAA6B,sBAA7B;AAEA,eAAe;EACZC,IAAI,GAAE;IACH,OAAO;MACJC,QAAQ,EAACP,UAAU,CAACQ,QAAX,CAAoB,UAApB,CADL;MAEJC,WAAW,EAAC,IAFR,CAGL;;IAHK,CAAP;EAKF,CAPW;;EAQZC,OAAO,GAAE;IACL,KAAKC,YAAL;EACH,CAVW;;EAWZC,UAAU,EAAC;IACTV;EADS,CAXC;EAcZW,OAAO,EAAC;IACNF,YAAY,GAAE;MACb,IAAIG,QAAO,GAAIV,KAAK,CAACD,WAAW,CAACK,QAAZ,CAAqB,UAArB,CAAD,CAApB;;MACN,IAAIM,QAAO,IAAK,WAAZ,IAA2BA,QAAO,IAAK,IAA3C,EAAiD;QAC7C,IAAIC,KAAI,GAAIC,KAAK,CAACC,IAAN,CAAWb,KAAK,CAACD,WAAW,CAACK,QAAZ,CAAqB,UAArB,CAAD,CAAhB,CAAZ;;QACA,IAAIO,KAAK,CAACG,MAAN,GAAe,CAAnB,EAAsB;UAClB;UACC,IAAIC,MAAM,GAACd,gBAAgB,CAACU,KAAD,CAA3B;;UACA,KAAI,IAAIK,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACD,MAAM,CAACD,MAAtB,EAA8BE,CAAC,EAA/B,EAAmC;YAClCC,MAAM,CAACC,OAAP,CAAeH,MAAf,CAAsBI,IAAtB,CAA2BJ,MAAM,CAACC,CAAD,CAAjC;YACAC,MAAM,CAACG,QAAP,CAAgB,MAAhB,EAAwBL,MAAM,CAACC,CAAD,CAA9B;YACDK,OAAO,CAACC,GAAR,CAAYL,MAAZ;YACA,MAAMM,WAAW,GAAC,KAAKC,MAAL,CAAYC,IAA9B,CAJmC,CAKpC;;YACC,MAAMC,WAAW,GAACC,aAAa,CAAChB,KAAD,EAAOY,WAAP,CAA/B,CANmC,CAOpC;;YACC,IAAG,OAAOG,WAAP,KAAqB,WAAxB,EAAoC;cACjC,OAAO,IAAP;YACF,CAFD,MAEK;cACA,KAAKE,YAAL,GAAkBF,WAAW,CAACG,QAA9B;YACL;UACA;QACA,CAnBwC,CAoBzC;;;QACA,KAAKxB,WAAL,GAAiBR,kBAAkB,CAACc,KAAD,EAAOY,WAAP,CAAnC;MACH;IACF;;EA1BQ;AAdI,CAAf","names":["localCache","pathMapBreadcrumbs","breadcrumb","localeCache","toRaw","mapMenusToRouter","data","username","getCache","breadcrumbs","created","getBreadPath","components","methods","menuinfo","menus","Array","from","length","routes","i","router","options","push","addRoute","console","log","currentPath","$route","path","currentMenu","pathMapToMenu","defaultvalue","objectId"],"sourceRoot":"","sources":["E:\\CaiCai\\前端学习\\Vue学习\\job-web-vue3\\src\\components\\nav_header\\src\\nav_header.vue"],"sourcesContent":["<template>\r\n  <div id=\"navheader\">\r\n    <div class=\"content\">\r\n         <div>面包屑\r\n            <breadcrumb :breadcrumbs=\"breadcrumbs\"/>\r\n         </div>\r\n         <div class=\"usercenter\">\r\n          <el-dropdown>\r\n          <span class=\"el-dropdown-link\">\r\n            <el-avatar size=\"small\" src=\"https://scpic.chinaz.net/files/pic/pic9/202207/apic42307.jpg\"></el-avatar>\r\n            <span>&nbsp;&nbsp;{{username}}</span>\r\n            <el-icon class=\"el-icon--right\">\r\n              <arrow-down />\r\n            </el-icon>\r\n          </span>\r\n          <template #dropdown>\r\n            <el-dropdown-menu>\r\n              <el-dropdown-item>退出登录</el-dropdown-item>\r\n              <el-dropdown-item divided>用户信息</el-dropdown-item>\r\n              <el-dropdown-item>系统管理</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </template>\r\n        </el-dropdown>\r\n       </div>\r\n     </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport localCache from '@/utils/cache.js'\r\nimport pathMapBreadcrumbs from '@/utils/map_bread.js'\r\nimport breadcrumb from '@/base-ui/src/breadcrumbv.vue'\r\nimport localeCache from '@/utils/cache'\r\nimport { toRaw } from '@vue/reactivity'\r\nimport mapMenusToRouter from '@/utils/map_menus.js'\r\n\r\nexport default {\r\n   data(){\r\n      return {\r\n         username:localCache.getCache(\"username\"),\r\n         breadcrumbs:null\r\n        //  imgsrc:\"@/asset/img/touxiangA.jpg\"\r\n      }\r\n   },\r\n   created(){\r\n       this.getBreadPath();\r\n   },\r\n   components:{\r\n     breadcrumb\r\n   },\r\n   methods:{\r\n     getBreadPath(){\r\n      let menuinfo = toRaw(localeCache.getCache(\"menuinfo\"));\r\nif (menuinfo != \"undefined\" || menuinfo == null) {\r\n    let menus = Array.from(toRaw(localeCache.getCache(\"menuinfo\")));\r\n    if (menus.length > 0) {\r\n        // let menus=Array.from(toRaw(this.userMenus));\r\n         let routes=mapMenusToRouter(menus);\r\n         for(var i=0; i<routes.length; i++) {\r\n          router.options.routes.push(routes[i]);\r\n          router.addRoute('main', routes[i]);\r\n         console.log(router);\r\n         const currentPath=this.$route.path;\r\n        //  console.log(\"当前的菜单\",menus)\r\n         const currentMenu=pathMapToMenu(menus,currentPath);\r\n        //  console.log(currentMenu);\r\n         if(typeof currentMenu===\"undefined\"){\r\n            return null;\r\n         }else{\r\n              this.defaultvalue=currentMenu.objectId;\r\n         }\r\n         }\r\n         }\r\n        //获取路径信息\r\n        this.breadcrumbs=pathMapBreadcrumbs(menus,currentPath);\r\n     }\r\n   }\r\n}\r\n}\r\n</script>\r\n\r\n<style>\r\n  #navheader{\r\n   display: flex;\r\n   width: 100%;\r\n \r\n  }\r\n  .content{\r\n    display: flex;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n     margin-top: 20px;\r\n    flex: 1;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .el-dropdown-link{\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}