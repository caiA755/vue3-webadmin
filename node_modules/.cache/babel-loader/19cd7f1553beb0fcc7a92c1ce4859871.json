{"ast":null,"code":"import caiform from '@/base-ui/index';\nimport mytable from '@/components/my_table/index';\nimport cRequest1 from '@/service/index';\nimport { ref } from 'vue';\nimport mainurl from '@/service/url/mainurl';\nexport default {\n  name: 'user',\n\n  data() {\n    let tableData; //  let rowStyle={\n    //   \"text-align\":center\n    //  };\n\n    let columns = [{\n      prop: \"objectId\",\n      name: \"objectId\"\n    }, {\n      prop: \"username\",\n      name: \"用户名\"\n    }, {\n      prop: \"mobile\",\n      name: \"电话号码\",\n      slotname: \"mobile\"\n    }, {\n      prop: \"email\",\n      name: \"邮箱\"\n    }, {\n      prop: \"createdAt\",\n      name: \"创建时间\",\n      slotname: \"createdAt\"\n    }, {\n      prop: \"updatedAt\",\n      name: \"更新时间\",\n      slotname: \"updatedAt\"\n    }, {\n      prop: \"objectId\",\n      name: \"操作\",\n      slotname: \"objectId\"\n    }];\n    let pageParams = {\n      page: 1,\n      limit: 5,\n      total: 7\n    };\n    return {\n      tableData,\n      columns,\n      pageParams\n    };\n  },\n\n  created() {\n    let _this = this;\n\n    let limitstr = \"?limit=\" + _this.pageParams.limit + \"&skip=\" + _this.pageParams.page; // limitstr=\"\";\n\n    cRequest1.getRequest(mainurl.userurl + limitstr, null).then(res => {\n      _this.tableData = res.results; //  _this.tableData.slice((this.pageParams.page - 1) * this.pageParams.limit, this.pageParams.page * this.pageParams.limit);\n\n      _this.pageParams.total = res.results.length;\n    });\n  },\n\n  methods: {},\n  components: {\n    caiform,\n    mytable\n  },\n\n  setup() {\n    const formItems = [{\n      field: \"name\",\n      label: \"用户名\",\n      placeholder: \"请输入用户名\",\n      type: \"input\"\n    }, {\n      field: \"date\",\n      label: \"创建时间\",\n      placeholder: \"请选择创建时间范围\",\n      type: \"datepicker\",\n      otherOptions: {\n        startPlaceholder: '开始时间',\n        endPlaceholder: '结束时间',\n        type: \"daterange\"\n      }\n    }];\n    const formData = ref({\n      id: 1,\n      name: \"cai\"\n    });\n    return {\n      formItems,\n      formData\n    };\n  },\n\n  methods: {\n    //页码变化\n    handleCurrentChange(e) {\n      this.pageParams.page = e;\n    },\n\n    //条数变化\n    handleSizeChange(e) {\n      this.pageParams.limit = e; // this.pageParams.page = 2;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["caiform","mytable","cRequest1","ref","mainurl","name","data","tableData","columns","prop","slotname","pageParams","page","limit","total","created","_this","limitstr","getRequest","userurl","then","res","results","length","methods","components","setup","formItems","field","label","placeholder","type","otherOptions","startPlaceholder","endPlaceholder","formData","id","handleCurrentChange","e","handleSizeChange"],"sourceRoot":"","sources":["E:\\CaiCai\\前端学习\\Vue学习\\job-web-vue3\\src\\views\\main\\system\\user\\user.vue"],"sourcesContent":["<template>\n  <div class=\"user\">\n    <!-- <h2>user</h2> -->\n   <div class=\"usersearch\">\n       <caiform :formItems=\"formItems\" v-model=\"formData\">\n          <template #search>\n            <el-button  type=\"primary\" :icon=\"el-icon-refresh\">重置</el-button>\n            <el-button type=\"primary\" :icon=\"Search\">查询</el-button>\n          </template>\n        </caiform>\n   </div>\n   <div class=\"maincontent\">\n   <!-- <div>{{tableData}}</div> -->\n     <mytable :tableData=\"tableData\" :columns=\"columns\"  :pageParams=\"pageParams\" @handleSizeChange=\"handleSizeChange\" @handleCurrentChange=\"handleCurrentChange\">\n        <template #objectId>\n            <el-button type=\"success\" plain>编辑</el-button>\n            <el-button type=\"success\">删除</el-button>\n        </template>\n          <!-- <template #createdAt=\"scope\">\n           <strong> {{scope.row.createdAt}}</strong>\n        </template> -->\n     </mytable>\n   </div>\n  </div>\n</template>\n\n<script>\nimport caiform from '@/base-ui/index'\nimport mytable from '@/components/my_table/index'\nimport cRequest1 from '@/service/index'\nimport {ref} from 'vue'\nimport mainurl from '@/service/url/mainurl'\n\nexport default {\n  name: 'user',\n  data(){\n     let tableData;\n    //  let rowStyle={\n    //   \"text-align\":center\n    //  };\n    let columns=[\n     {\n       prop:\"objectId\",\n       name:\"objectId\"\n     },\n     {\n       prop:\"username\",\n       name:\"用户名\"\n     },\n     {\n       prop:\"mobile\",\n       name:\"电话号码\",\n       slotname:\"mobile\"\n     },\n     {\n       prop:\"email\",\n       name:\"邮箱\"\n     },\n     {\n       prop:\"createdAt\",\n       name:\"创建时间\",\n       slotname:\"createdAt\"\n     },\n     {\n       prop:\"updatedAt\",\n       name:\"更新时间\",\n       slotname:\"updatedAt\"\n     }\n     ,\n     {\n       prop:\"objectId\",\n       name:\"操作\",\n       slotname:\"objectId\"\n     }\n    ];\n    let pageParams={\n          page:1,\n          limit:5,\n          total:7\n    }\n    return {tableData,columns,pageParams}\n  },\n  created(){\n        let _this=this;\n        let limitstr=\"?limit=\"+_this.pageParams.limit+\"&skip=\"+_this.pageParams.page;\n        // limitstr=\"\";\n        cRequest1.getRequest(mainurl.userurl+limitstr,null).then((res)=>{\n             _this.tableData=res.results;\n            //  _this.tableData.slice((this.pageParams.page - 1) * this.pageParams.limit, this.pageParams.page * this.pageParams.limit);\n             _this.pageParams.total=res.results.length;\n       });\n  },\n  methods:{\n  },\n  components:{\n    caiform,\n    mytable\n  },\n  setup() {\n    const formItems=[\n      {\n        field:\"name\",\n        label:\"用户名\",\n        placeholder:\"请输入用户名\",\n        type:\"input\"\n      }  ,\n      {\n        field:\"date\",\n        label:\"创建时间\",\n        placeholder:\"请选择创建时间范围\",\n        type:\"datepicker\",\n        otherOptions:{\n          startPlaceholder:'开始时间',\n          endPlaceholder:'结束时间',\n          type:\"daterange\"\n        }\n       }\n    ];\n    const formData=ref({\n          id:1,\n          name:\"cai\"\n     })\n    return {formItems,formData}\n  },\n  methods: {\n    \t//页码变化\n\t\t\thandleCurrentChange(e) {\n\t\t\t\t this.pageParams.page=e;\n\t\t\t},\n\t\t\t//条数变化\n\t\t\thandleSizeChange(e) {\n    \t\tthis.pageParams.limit = e;\n\t\t\t\t// this.pageParams.page = 2;\n\t\t\t}\n  }\n}\n</script>\n\n\n<style scoped>\n.usersearch{\n    background: white;\n    padding: 12px;\n    padding-top:25px;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}